# 流程管理

流程管理模块主要实现流程实例监控、任务管理、作业管理、目录管理以及流程部署管理等功能。

## 目录

流程目录根据业务分类、分级要求，实现流程目录以及目录所包含业务资源的分级管理。流程目录管理主要实现流程目录的增加、编辑、删除操作。

选择系统功能菜单“流程管理à目录”，进入“流程目录”操作主页面，页面以树形方式显示流程目录列表，如下图所示：

![](/articles/bpm/4-/images/image11.png)

图：流程目录页面

### 新增目录

创建新目录或在已有目录下创建子目录。在目录节点不选择任务记录或选择已有的目录记录，点击【新增目录】按钮，显示目录新增页面，如下所示：

![](/articles/bpm/4-/images/image12.png)

图：新增目录界面

按照页面的提示输入要新增目录的信息，名称和编码都是必填项。

点击【保存】按钮保存输入的内容，返回“流程目录”页面，可以看到流程目录列表中增加了一个新创建的目录记录；如果想放弃本次操作，点击【取消】按钮，返回“流程目录”页面。

### 编辑

编辑已创建目录的信息。在流程目录列表中选择目录记录，点击【编辑】按钮，进入流程目录编辑页面，修改所要修改的数据项，击【保存】按钮保存输入的内容，返回“流程目录”页面；如果想放弃本次操作，点击“取消”按钮，返回“流程目录”页面。

### 删除目录

删除选中的流程目录。在流程目录列表中选择目录记录，点击【删除】按钮，系统显示确认删除提示窗，点击【确定】按钮，删除流程目录，删除成功后显示删除成功提示，否则显示删除失败提示；点击【取消】按钮，放弃本次删除操作。

注：删除流程目录时会将目录下相关流程定义和流程部署一起删除。

## 部署

实现流程在流程引擎上的发布，流程可发布多个版本，支持多个版本同时运行。发布管理主要提供流程的部署、查询、删除操作。

选择系统功能菜单“流程管理à部署”，进入部署操作主页面，页面左侧是流程目录树，右侧以列表方式显示已部署的流程定义列表，如下图所示：

![](/articles/bpm/4-/images/image13.png)

图：流程部署页面

### 部署

点击部署按钮，选择要部署的文件，可多选，确定后部署成功，如果部署时有错误则提示部署失败。支持批量部署。

### 转换为模型

可将已经部署的流程转换成模型，转换成模型后，在模型节点的对应的应用节点下可看到转换成的模型，可设计该模型。

### 删除流程部署包

删除在流程引擎上部署的流程部署包。在列表中选择已部署的流程部署包，点击

![](/articles/bpm/4-/images/image14.png)

图标，系统显示确认删除提示窗，如下图所示：

![](/articles/bpm/4-/images/image15.png)

图：确认删除部署

点击【确定】按钮，删除部署在流程引擎上的在流程部署包，删除成功后显示删除成功提示，如没成功，显示删除失败提示；点击【取消】按钮，放弃本次删除操作。

### 查询

模糊查询：根据用户输入的查询条件，通过模糊查询方式，快速查询、定位满足条件的流程。查询条件包括：部署名称等。

输入查询条件，点击【查询】按钮，作业列表中将展现满足条件的作业。

## 实例

根据模糊查询条件，快速查询、定位用户权限范围内的运行时流程实例和历史流程实例，浏览、查看流程实例流转、状态及流程实例属性等详细信息。同时，还可实现对流程实例挂起、恢复、停止操作控制。

流程实例状态分为：运行、挂起、终止和完成。

选择系统功能菜单“流程管理à实例”，进入流程实例操作主页面，页面以列表方式显示流程实例列表，如下图所示：

![](/articles/bpm/4-/images/image16.png)

图：流程实例监控

### 调整实例

改变流程实例执行环节，在选择的环节继续执行。在流程实例列表中选择流程实例，点击【调整】按钮，展示流程各环节列表，如下图所示：

![](/articles/bpm/4-/images/image17.png)

图：流程实例环节

选择环节，点击“保存”，完成调整操作；点击“取消”按钮，放弃本次操作。

### 挂起实例

暂停正在执行的流程实例，保存流程实例挂起时状态。在流程实例列表中选择要挂起的流程实例状态为“运行”的流程实例，点击【挂起】按钮，如挂起成功，系统提示成功，流程实例状态由“运行”变为“挂起”。

注：只能对流程实例状态为“运行”的实例执行挂起操作。

### 恢复实例

激活挂起的流程实例，恢复到挂起时的状态，并且继续执行。在流程实例列表中选择要挂起的流程实例状态为“挂起”的流程实例，点击【恢复】按钮，如恢复成功，流程实例状态由“挂起”变为“运行”。

注：只能对流程实例状态为“挂起”的实例执行恢复操作。

### 终止实例

终止流程实例继续执行，被终止的流程实例不能够再恢复。在流程实例列表中选择要挂起的流程实例状态为“挂起”或“运行”的流程实例，点击【终止】按钮，如终止成功，系统提示成功，流程实例状态由变为“终止”。

### 查看实例详细情况

在流程实例列表中选择要查看的流程实例，点击流程实例名称，显示流程详细情况页面，如下所示：

![](/articles/bpm/4-/images/image18.png)

图：流程实例详细情况页面

以图形化方式展示流程实例执行过程以及流程实例的状态、流程流转情况、实例属性情况、异常情况；另外还通过列表方式展示流程活动详细情况以及流程实施变量参数。

### 查询实例

（1）分类选择：系统提供“全部”、“完成”、“未完成”三种分类快速选择，显示不同分类的流程实例。

（2）模糊查询：根据用户输入的查询条件，通过模糊查询方式，快速查询、定位满足条件的流程实例。查询条件包括：流程定义名称、时间范围、发起人。

输入查询条件，点击【查询】按钮，流程实例列表中将展现满足条件的流程实例。

## 作业

集中监控和管理业务流程中的异步自动任务，如WebService调用、定时器，提供查询、重做操作。

选择系统功能菜单“流程管理à作业”，进入作业操作主页面，页面以列表方式显示作业列表，如下图所示：

![](/articles/bpm/4-/images/image19.png)

图：作业管理页面

### 执行作业

重做选中的作业。在作业列表中选择要执行的作业状态为“未执行”的流程实例，点击【执行】按钮，如执行成功，作业状态由“未执行”变为”运行”。

### 删除作业

删除选中的作业，执行中的作业将被终止，再删除。在任务列表中选择作业，点击删除图标，系统显示确认删除提示窗，如下图所示：

![](/articles/bpm/4-/images/image10.png)

图：确认删除提示

点击【确定】按钮，删除作业，删除成功后显示删除成功提示，否则显示删除失败提示；点击【取消】按钮，放弃本次删除操作。

### 查询作业

（1）分类选择：系统提供“错误”、“全部”分类方式快速选择条件，显示出现异常错误和所有的作业。

点击“错误”或“全部”图标按钮，作业列表中将展现相应的作业。

（2）模糊查询：根据用户输入的查询条件，通过模糊查询方式，快速查询、定位满足条件的作业。查询条件包括：作业名称。

输入查询条件，点击【查询】按钮，作业列表中将展现满足条件的作业。

## 任务

集中监控和管理业务流程中的任务，提供查询、删除操作。

选择系统功能菜单“流程管理à任务”，进入任务操作主页面，页面以列表方式显示任务列表，如下图所示：

![](/articles/bpm/4-/images/image20.png)

图：任务操作页面

### 改派任务

将任务改派给其它人员。在任务列表中选择任务，点击“改派”按钮，显示改派页面，如下图所示：

![](/articles/bpm/4-/images/image21.png)

图：改派界面

展开机构树选择机构下人员，点击【保存】按钮完成任务改派，返回“任务”页面；如果想放弃本次操作，点击“取消”按钮。

### 撤回任务

撤回已分派给其它人员处理的任务。在任务列表中选择任务，点击“撤回”按钮，完成任务撤回操作。如任务为待办任务，不能撤回，系统显示提示窗，如下图所示：

![](/articles/bpm/4-/images/image22.png)

图：不能撤回提示

### 查询任务

提供两种查询方式：

1、分类选择：系统提供“待办”、“逾期”、“已完成”、“所有”分类快速选择条件，显示相应的任务。

点击“待办”、“逾期”、“已完成”或“所有”图标按钮，任务列表中将展现相应的任务。

2、模糊查询：根据用户输入的查询条件，通过模糊查询方式，快速查询、定位满足条件的任务。查询条件包括：任务名称，执行人。

输入查询条件，点击【查询】按钮，任务列表中将展现满足条件的任务。
